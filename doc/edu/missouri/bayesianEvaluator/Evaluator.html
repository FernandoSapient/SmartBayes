<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_31) on Thu Apr 28 06:15:50 CDT 2016 -->
<title>Evaluator</title>
<meta name="date" content="2016-04-28">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="Evaluator";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":9,"i1":9,"i2":9,"i3":9,"i4":9,"i5":9,"i6":9,"i7":9,"i8":9};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Evaluator.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../edu/missouri/bayesianEvaluator/BifUpdate.html" title="class in edu.missouri.bayesianEvaluator"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../edu/missouri/bayesianEvaluator/Trainer.html" title="class in edu.missouri.bayesianEvaluator"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?edu/missouri/bayesianEvaluator/Evaluator.html" target="_top">Frames</a></li>
<li><a href="Evaluator.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">edu.missouri.bayesianEvaluator</div>
<h2 title="Class Evaluator" class="title">Class Evaluator</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>edu.missouri.bayesianEvaluator.Evaluator</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">Evaluator</span>
extends java.lang.Object</pre>
<div class="block">Allows evaluating a bayesian network with a dataset</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd><code>bayesianEvaluator</code> version 0.10 2016-04-19</dd>
<dt><span class="simpleTagLabel">Version:</span></dt>
<dd>0.10 2016-04-23</dd>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd><a href="mailto:fthc8@missouri.edu">Fernando J. Torre-Mora</a></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../edu/missouri/bayesianEvaluator/Evaluator.html#Evaluator--">Evaluator</a></span>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>static double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../edu/missouri/bayesianEvaluator/Evaluator.html#accuracy-edu.ucla.belief.BeliefNetwork-weka.core.Instances-">accuracy</a></span>(edu.ucla.belief.BeliefNetwork&nbsp;bn,
        weka.core.Instances&nbsp;testData)</code>
<div class="block">Computes the accuracy the Bayesian network has on the given test data.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../edu/missouri/bayesianEvaluator/Evaluator.html#allAttributesAccuracies-edu.ucla.belief.BeliefNetwork-weka.core.Instances-java.util.Map-">allAttributesAccuracies</a></span>(edu.ucla.belief.BeliefNetwork&nbsp;bn,
                       weka.core.Instances&nbsp;testData,
                       java.util.Map&lt;java.lang.String,java.util.DoubleSummaryStatistics&gt;&nbsp;previousAccuracies)</code>
<div class="block">Finds the accuracy of the given Bayesian network in estimating all of its
 attributes, using the given test set.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>static java.util.Map&lt;java.lang.String,java.util.DoubleSummaryStatistics&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../edu/missouri/bayesianEvaluator/Evaluator.html#crossValidationAccuracies-weka.classifiers.bayes.net.EditableBayesNet-java.util.Map-java.lang.String-">crossValidationAccuracies</a></span>(weka.classifiers.bayes.net.EditableBayesNet&nbsp;bn,
                         java.util.Map&lt;weka.core.Instances,weka.core.Instances&gt;&nbsp;splits,
                         java.lang.String&nbsp;filename)</code>
<div class="block">Evaluates the bayesian network on each split.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../edu/missouri/bayesianEvaluator/Evaluator.html#loadEvidenceFromWeka-edu.ucla.belief.BeliefNetwork-weka.core.Instance-">loadEvidenceFromWeka</a></span>(edu.ucla.belief.BeliefNetwork&nbsp;bn,
                    weka.core.Instance&nbsp;evidence)</code>
<div class="block">Sets the specified Bayesian Network to the state specified
 in <code>evidence</code>.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>static edu.ucla.belief.BeliefNetwork</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../edu/missouri/bayesianEvaluator/Evaluator.html#loadSamiamBayes-java.lang.String-">loadSamiamBayes</a></span>(java.lang.String&nbsp;filename)</code>
<div class="block">Loads a Bayesian network from an XML BIF file into a SamIam <code>BeliefNetwork</code></div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../edu/missouri/bayesianEvaluator/Evaluator.html#main-java.lang.String:A-">main</a></span>(java.lang.String[]&nbsp;args)</code>
<div class="block">Takes a (trained?) Bayesian network (provided in an XML BIF file) and evaluates
 it using the given data.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>static java.util.Map&lt;weka.core.Instances,weka.core.Instances&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../edu/missouri/bayesianEvaluator/Evaluator.html#randomSplit-weka.core.Instances-float-int-">randomSplit</a></span>(weka.core.Instances&nbsp;data,
           float&nbsp;ratio,
           int&nbsp;number)</code>
<div class="block">Creates the specified number of spits of the data.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>static edu.ucla.belief.Table</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../edu/missouri/bayesianEvaluator/Evaluator.html#shenoyShaferMarginals-edu.ucla.belief.BeliefNetwork-weka.core.Instance-">shenoyShaferMarginals</a></span>(edu.ucla.belief.BeliefNetwork&nbsp;bn,
                     weka.core.Instance&nbsp;evidence)</code>
<div class="block">Computes the marginal probabilities for the given instance using the
 Shenoy-Shafer belief propagation algorithm.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../edu/missouri/bayesianEvaluator/Evaluator.html#wekaEvaluation-weka.classifiers.bayes.net.EditableBayesNet-weka.core.Instances-weka.core.Instances-">wekaEvaluation</a></span>(weka.classifiers.bayes.net.EditableBayesNet&nbsp;bn,
              weka.core.Instances&nbsp;trainset,
              weka.core.Instances&nbsp;testset)</code>
<div class="block">Evaluates the given Bayesian network on the given test data using Weka's
 built-in evaluator.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="Evaluator--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>Evaluator</h4>
<pre>public&nbsp;Evaluator()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="randomSplit-weka.core.Instances-float-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>randomSplit</h4>
<pre>public static&nbsp;java.util.Map&lt;weka.core.Instances,weka.core.Instances&gt;&nbsp;randomSplit(weka.core.Instances&nbsp;data,
                                                                                 float&nbsp;ratio,
                                                                                 int&nbsp;number)</pre>
<div class="block">Creates the specified number of spits of the data. The data is randomized
 and split into two parts, each ordering unique. All the "Key" parts are
 guaranteed to be the same size amongst themselves. All the "Value" parts
 are guaranteed to be the same size amongst themselves. This particularly
 useful for several train/test evaluations</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>data</code> - The dataset to be split</dd>
<dd><code>ratio</code> - The proportion of the data that each split will have as its</dd>
<dd><code>number</code> - The number of splits to perform</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A <code>Map</code> with <code>number</code> entries where each key <i>k</i>
         is an <code>Instances</code> object containing <code>ratio</code> of
         <code>data</code>, and <code>get(k)</code> returns the remaining 1 &minus;
         <code>ratio</code> of <code>data</code></dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.01 2016-04-19</dd>
</dl>
</li>
</ul>
<a name="loadEvidenceFromWeka-edu.ucla.belief.BeliefNetwork-weka.core.Instance-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>loadEvidenceFromWeka</h4>
<pre>public static&nbsp;void&nbsp;loadEvidenceFromWeka(edu.ucla.belief.BeliefNetwork&nbsp;bn,
                                        weka.core.Instance&nbsp;evidence)
                                 throws edu.ucla.belief.StateNotFoundException</pre>
<div class="block">Sets the specified Bayesian Network to the state specified
 in <code>evidence</code>. Note that the class value is assumed to be the query
 target, and is therefore omitted. 
 <p/>
 The Bayesian network provided is modified by this method. It's current
 state is completely removed and replaced with the state given by
 the evidence .
 <p/>
 As of SamIam version 3.0, the removal of the current state may produce a
 <code>NullPointerException</code>. Use <code>BeliefNetwork.clone()</code> or
 <code>BeliefNetwork.deepClone()</code> if this method needs to be called
 more than once on the same method to get around this.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>bn</code> - A SamIam Bayesian network, desired to be put into state</dd>
<dd><code>evidence</code> - The state to put <code>bn</code> into</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>edu.ucla.belief.StateNotFoundException</code> - If the instances are not compatible with the Bayesian network
             (they specify states for the nodes that are not among those
             nodes' possible values)</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>version 0.04 2016-04-21</dd>
</dl>
</li>
</ul>
<a name="shenoyShaferMarginals-edu.ucla.belief.BeliefNetwork-weka.core.Instance-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>shenoyShaferMarginals</h4>
<pre>public static&nbsp;edu.ucla.belief.Table&nbsp;shenoyShaferMarginals(edu.ucla.belief.BeliefNetwork&nbsp;bn,
                                                          weka.core.Instance&nbsp;evidence)
                                                   throws edu.ucla.belief.StateNotFoundException</pre>
<div class="block">Computes the marginal probabilities for the given instance using the
 Shenoy-Shafer belief propagation algorithm.
 <p/>
 This code is heavily based on the sample code by Keith Cascio</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>bn</code> - The bayesian network to use for the estimation</dd>
<dd><code>evidence</code> - The state the bayesian network should be in when the marginal
            probability is computed</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A <code>edu.ucla.belief.Table</code> containing the result</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>edu.ucla.belief.StateNotFoundException</code> - If the instances are not compatible with the Bayesian network
             (they specify states for the nodes that are not among those
             nodes' possible values)</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>version 0.04 2016-04-21</dd>
</dl>
</li>
</ul>
<a name="loadSamiamBayes-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>loadSamiamBayes</h4>
<pre>public static&nbsp;edu.ucla.belief.BeliefNetwork&nbsp;loadSamiamBayes(java.lang.String&nbsp;filename)
                                                     throws java.lang.Exception</pre>
<div class="block">Loads a Bayesian network from an XML BIF file into a SamIam <code>BeliefNetwork</code></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>filename</code> - The path of an XML BIF file to open</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a <code>weka.classifiers.bayes.BayesNet</code> object with the
         structure in the file</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code> - If the file could not be read correctly</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>version 0.04 2016-04-21</dd>
</dl>
</li>
</ul>
<a name="wekaEvaluation-weka.classifiers.bayes.net.EditableBayesNet-weka.core.Instances-weka.core.Instances-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>wekaEvaluation</h4>
<pre>public static&nbsp;java.lang.String&nbsp;wekaEvaluation(weka.classifiers.bayes.net.EditableBayesNet&nbsp;bn,
                                              weka.core.Instances&nbsp;trainset,
                                              weka.core.Instances&nbsp;testset)
                                       throws java.lang.Exception</pre>
<div class="block">Evaluates the given Bayesian network on the given test data using Weka's
 built-in evaluator. Note that this evaluator does not support belief
 propagation (i.e. if the network is a chain of length 3, and the target
 node is <i>v</i><sub>3</sub> and the value of its immediate parent
 <i>v</i><sub>2</sub> is missing, rather than check <i>v</i><sub>1</sub>
 to predict <i>v</i><sub>3</sub>, the evaluator merely assumes that
 <i>v</i><sub>2</sub> is its default value&mdash;the value of
 <i>v</i><sub>2</sub> with the highest frequency in the training data
 irrespective of the values of its adjacent nodes)</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>bn</code> - A trained Bayesian network to be tested</dd>
<dd><code>trainset</code> - The data the Bayesian network was trained with</dd>
<dd><code>trainset</code> - The data to test the Bayesian network with</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A string containing the results of the evaluation (see
         <code>weka.classifiers.evaluation.Evaluation.toSummaryString</code>)</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code> - if the Bayesian network is corrupted</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.03 2016-04-20</dd>
</dl>
</li>
</ul>
<a name="accuracy-edu.ucla.belief.BeliefNetwork-weka.core.Instances-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>accuracy</h4>
<pre>public static&nbsp;double&nbsp;accuracy(edu.ucla.belief.BeliefNetwork&nbsp;bn,
                              weka.core.Instances&nbsp;testData)
                       throws edu.ucla.belief.StateNotFoundException,
                              java.lang.ArithmeticException,
                              weka.core.UnassignedClassException</pre>
<div class="block">Computes the accuracy the Bayesian network has on the given test data.
 That is, it attempts to predict the value of the class attribute,
 given the rest of the data in the instance, and returns how many
 predictions matched the value given in their instance.
 <p/>
 The function uses the the attribute set as class to know what to
 estimate. The class must be set by the caller.
 <p/>
 The algorithm used is the Shenoy-Shafer belief
 propagation algorithm</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>bn</code> - The Bayesian network to be evaluated with this data</dd>
<dd><code>testData</code> - A set of instances, distinct from the ones used to learn
 the network's conditional probabilities</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a number between 0 and 1, specifying what ratio, of the values
 in <code>testData.instance(i).classValue()</code>, were correctly predicted</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>edu.ucla.belief.StateNotFoundException</code> - If the instances are not compatible with the Bayesian network
             (they specify states for the nodes that are not among those
             nodes' possible values)</dd>
<dd><code>java.lang.ArithmeticException</code> - If all the values for the class in <code>testData</code> are missing</dd>
<dd><code>weka.core.UnassignedClassException</code> - If <code>testData</code>'s class attribute is not set</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.6 2016-04-22</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../edu/missouri/bayesianEvaluator/Evaluator.html#shenoyShaferMarginals-edu.ucla.belief.BeliefNetwork-weka.core.Instance-"><code>shenoyShaferMarginals(BeliefNetwork, Instance)</code></a></dd>
</dl>
</li>
</ul>
<a name="allAttributesAccuracies-edu.ucla.belief.BeliefNetwork-weka.core.Instances-java.util.Map-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>allAttributesAccuracies</h4>
<pre>public static&nbsp;void&nbsp;allAttributesAccuracies(edu.ucla.belief.BeliefNetwork&nbsp;bn,
                                           weka.core.Instances&nbsp;testData,
                                           java.util.Map&lt;java.lang.String,java.util.DoubleSummaryStatistics&gt;&nbsp;previousAccuracies)
                                    throws edu.ucla.belief.StateNotFoundException,
                                           weka.core.UnassignedClassException</pre>
<div class="block">Finds the accuracy of the given Bayesian network in estimating all of its
 attributes, using the given test set.
 <p/>
 The resulting accuracy is stored in a <code>Map</code> indexed by the name of
 the attribute. Accuracies are stored as <code>DoubleSummaryStatistics</code> to
 ease obtaining minimums, maximums, and averages (which are the accuracy
 numbers you should care about if you're doing cross-validation testing).
 Note that if any attribute has missing values in all of test set
 instances, it is not included in the result.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>bn</code> - A trained (conditional probabilities already computed)
            Bayesian network to be evaluated</dd>
<dd><code>testData</code> - The data <code>bn</code> is to be tested with</dd>
<dd><code>previousAccuracies</code> - Any data existing from previous calls to this function. The
            accuracy computed will be added on the the corresponding
            summary statistical. An empty map may be freely be passed</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>edu.ucla.belief.StateNotFoundException</code> - If the instances are not compatible with the Bayesian network
             (they specify states for the nodes that are not among those
             nodes' possible values)</dd>
<dd><code>weka.core.UnassignedClassException</code> - If <code>testData</code>'s class attribute is not set</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.10 2016-04-23</dd>
</dl>
</li>
</ul>
<a name="crossValidationAccuracies-weka.classifiers.bayes.net.EditableBayesNet-java.util.Map-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>crossValidationAccuracies</h4>
<pre>public static&nbsp;java.util.Map&lt;java.lang.String,java.util.DoubleSummaryStatistics&gt;&nbsp;crossValidationAccuracies(weka.classifiers.bayes.net.EditableBayesNet&nbsp;bn,
                                                                                                          java.util.Map&lt;weka.core.Instances,weka.core.Instances&gt;&nbsp;splits,
                                                                                                          java.lang.String&nbsp;filename)
                                                                                                   throws java.lang.Exception,
                                                                                                          java.io.FileNotFoundException,
                                                                                                          edu.ucla.belief.StateNotFoundException,
                                                                                                          weka.core.UnassignedClassException</pre>
<div class="block">Evaluates the bayesian network on each split. Specifically, the bayesian
 network's conditional probabilities are trained with the data in the
 map's keys, and each trained network is then tested for cross-validation
 with the corresponding value mapped to. The accuracy in predicting each
 variable is tested.
 <p/>
 The resulting accuracy is stored in a <code>Map</code> indexed by the name of
 the attribute. Accuracies are stored as <code>DoubleSummaryStatistics</code> to
 ease obtaining minimums, maximums, and averages (which are the accuracy
 numbers you should care about if you're doing cross-validation testing).
 Note that if any attribute has missing values in all of test set
 instances, it is not included in the result.
 <p/>
 The function adds an additional entry to the map keyed
 "__ProcessingTime__", for benchmarking purposes, which stores the number
 of seconds (in a <code>double</code> with nanosecond precision) it took to
 process each split. Note that if there is an attribute with this name,
 unpredictable results may be returned.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>bn</code> - The bayesian network to be evaluated</dd>
<dd><code>splits</code> - A <code>Map</code> where each key <i>k</i> is an <code>Instances</code>
            object containing <code>ratio</code> of <code>data</code>, and <code>get(k)</code> returns the remaining 1 &minus; <code>ratio</code> of
            <code>data</code></dd>
<dd><code>filename</code> - The name of a file to write intermediate networks to</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A <code>Map</code> where each key is an attribute name (or
         "__ProcessingTime__"</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code> - If the number of columns in data does not match the number of
             nodes in <code>bn</code> (use
             <a href="../../../edu/missouri/bayesianEvaluator/Trainer.html#conformToNetwork-weka.core.Instances-weka.classifiers.bayes.BayesNet-boolean-"><code>Trainer.conformToNetwork(Instances, BayesNet, boolean)</code></a>
             or
             <a href="../../../edu/missouri/bayesianEvaluator/Trainer.html#restrictToAttributeSet-weka.core.Instances-java.util.Collection-"><code>Trainer.restrictToAttributeSet(Instances, Collection)</code></a>
             for this purpose). An undocumented exception is also thrown
             if the file was written correctly but could not be read</dd>
<dd><code>java.io.FileNotFoundException</code> - If <code>filename</code> could not be written</dd>
<dd><code>edu.ucla.belief.StateNotFoundException</code> - If the instances are not compatible with the Bayesian network
             (they specify states for the nodes that are not among those
             nodes' possible values)</dd>
<dd><code>weka.core.UnassignedClassException</code> - If <code>testData</code>'s class attribute is not set</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.09 2016-04-23</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../edu/missouri/bayesianEvaluator/Evaluator.html#randomSplit-weka.core.Instances-float-int-"><code>randomSplit(Instances, float, int)</code></a></dd>
</dl>
</li>
</ul>
<a name="main-java.lang.String:A-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>main</h4>
<pre>public static&nbsp;void&nbsp;main(java.lang.String[]&nbsp;args)
                 throws java.lang.Exception</pre>
<div class="block">Takes a (trained?) Bayesian network (provided in an XML BIF file) and evaluates
 it using the given data. 
 <!--The following is copied from Trainer.main-->
 The data file must be on one of Weka's accepted file formats (ARFF,
 C4.5, CSV, JSON, LibSVM, MatLab, DAT, BSI, or XRFF, as of Weka version
 3.7.12). The program might fail if the Bayesian network is not in Weka
 format (use <a href="../../../edu/missouri/bayesianEvaluator/BifUpdate.html" title="class in edu.missouri.bayesianEvaluator"><code>BifUpdate</code></a> for this purpose). A filtering criterion
 can be specified, against which only the elements of the first attribute
 which are equal to it will be selected.
 <p/>
 The method discretizes each attribute to match the number of possible values in
 its corresponding node (see <a href="../../../edu/missouri/bayesianEvaluator/Trainer.html#discretizeToBayes-weka.core.Instances-weka.classifiers.bayes.BayesNet-boolean-"><code>Trainer.discretizeToBayes(Instances, BayesNet, boolean)</code></a>)
 unless the attribute is already discrete.
 <p/>
 If the file is CSV file, the data is assumed to have originated
 from the World Bank, and the missing value placeholder is set to "..",
 but this may change in a future version.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>args</code> - An array containing, at <code>args[0]</code>, the pat of the data
            file to train the Bayesian network with; at <code>args[1]</code>
            the path of the file containing the Bayesian network to train;
            at at <code>args[2]</code> the path of the output file in which to
            store the trained network; and optionally, at <code>args[3]</code>
            a filtering criterion and, at <code>args[4]</code>, "true" 
            if frequency discrtization is desired.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code> - If any of the files could not be read</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd><code>bayesianEvaluator</code> 0.01 2016-04-10</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Evaluator.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../edu/missouri/bayesianEvaluator/BifUpdate.html" title="class in edu.missouri.bayesianEvaluator"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../edu/missouri/bayesianEvaluator/Trainer.html" title="class in edu.missouri.bayesianEvaluator"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?edu/missouri/bayesianEvaluator/Evaluator.html" target="_top">Frames</a></li>
<li><a href="Evaluator.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
